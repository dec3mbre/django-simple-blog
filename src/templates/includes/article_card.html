{% comment %}
Reusable article card component.
Context variables:
  - article: Article model instance
  - animation_class: fade-up class with delay (e.g. "fade-up delay-1"), optional
{% endcomment %}
<article
    class="group {{ animation_class|default:'fade-up' }} article-card relative h-full rounded-2xl border border-white/10 bg-white/5 overflow-hidden hover:border-white/20 hover:bg-white/[0.07] transition-all cursor-pointer"
    data-tags="{{ article.category.slug|default:'' }}"
    data-title="{{ article.title }}"
    data-desc="{{ article.content|truncatewords:20 }}">
    <a class="absolute inset-0 rounded-2xl z-20" href="{% url 'blog:article_detail' article.slug %}"
        aria-label="{{ article.title }}"></a>
    {% if article.image %}
    <div class="aspect-[16/9] overflow-hidden">
        <img src="{{ article.image.url }}" alt="{{ article.title }}"
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" loading="lazy" />
    </div>
    {% else %}
    <div class="aspect-[16/9] bg-gradient-to-br from-white/[0.03] to-white/[0.06] flex items-center justify-center">
        <svg class="w-8 h-8 text-white/10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
    </div>
    {% endif %}
    <div class="relative z-10 flex flex-col p-5">
        <div class="flex items-center justify-between text-xs text-white/50">
            <time datetime="{{ article.created_at|date:'Y-m-d' }}" class="mono uppercase tracking-[0.3em]">{{ article.created_at|date:"M d" }}</time>
            <span class="mono uppercase tracking-[0.3em]">{{ article.reading_time|default:'5' }} мин</span>
        </div>
        <h3 class="mt-4 text-lg font-semibold leading-snug line-clamp-2">{{ article.title }}</h3>
        <p class="mt-3 text-sm text-white/70 line-clamp-3">
            {{ article.content|truncatewords:20 }}
        </p>
        <div class="mt-auto pt-5 flex flex-wrap gap-2">
            {% if article.category %}
            <span
                class="mono rounded-full border border-white/10 px-3 py-1 text-[11px] uppercase tracking-[0.25em]">{{ article.category.name }}</span>
            {% endif %}
        </div>
    </div>
</article>
